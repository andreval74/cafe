<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema Linear de Tokens - EIP-1167 + CR        <div class="verification-section" id="verification-section" style="display: none;">
          <div class="button-group">
            <button id="btn-verification-info" class="btn-info">ğŸ“‹ Obter Dados de VerificaÃ§Ã£o</button>
            <button id="btn-auto-verify" class="btn-success">ğŸ” Iniciar VerificaÃ§Ã£o Manual</button>
          </div>
          
          <div id="verification-status"></div>
          
          <div class="verification-guide" style="margin-top: 20px;">
            <h4>ğŸ“– Processo de verificaÃ§Ã£o:</h4>
            <ol>
              <li>Clique em "Iniciar VerificaÃ§Ã£o Manual" para obter todos os dados</li>
              <li>Use os links diretos para ir Ã  pÃ¡gina de verificaÃ§Ã£o</li>
              <li>Cole os dados fornecidos usando os botÃµes de cÃ³pia</li>
              <li>Aguarde o processo de verificaÃ§Ã£o na rede</li>
              <li>Seu contrato estarÃ¡ verificado e pÃºblico!</li>
            </ol>
          </div>
        </div>nk href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš€</text></svg>">
  <link rel="stylesheet" href="css/token.css">
  <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
  <div class="main-container">
    <div class="header">
      <h1>ğŸš€ Sistema Linear de Tokens - alterado</h1>
      <p>Fluxo guiado para criaÃ§Ã£o de tokens com EIP-1167 + CREATE2</p>
    </div>
    <div class="progress-container">
      <div class="progress-steps">
        <div class="step active" id="step-indicator-1"><div class="step-circle">1</div><div class="step-line"></div></div>
        <div class="step" id="step-indicator-2"><div class="step-circle">2</div><div class="step-line"></div></div>
        <div class="step" id="step-indicator-3"><div class="step-circle">3</div><div class="step-line"></div></div>
        <div class="step" id="step-indicator-4"><div class="step-circle">4</div><div class="step-line"></div></div>
        <div class="step" id="step-indicator-5"><div class="step-circle">5</div><div class="step-line"></div></div>
        <div class="step" id="step-indicator-6"><div class="step-circle">6</div></div>
      </div>
      <div class="step-labels">
        <div class="step-label">Dados BÃ¡sicos</div>
        <div class="step-label">PersonalizaÃ§Ã£o</div>
        <div class="step-label">Resumo</div>
        <div class="step-label">Deploy</div>
        <div class="step-label">VerificaÃ§Ã£o</div>
        <div class="step-label">MetaMask</div>
      </div>
    </div>
    <div class="content">
      <div class="step-content active" id="step-1">
        <!-- SeÃ§Ã£o de ConexÃ£o no Topo -->
        <div class="connection-section">
          <div class="form-group">
            <label for="wallet-connection">ğŸ”— ConexÃ£o da Carteira</label>
            <div class="connection-container">
              <input type="text" id="wallet-status" placeholder="Clique em 'Conectar' para iniciar" readonly>
              <button id="connect-metamask-btn" type="button" class="connect-btn">
                <img src="imgs/metamask-fox.svg" alt="MetaMask" class="metamask-icon">
                Conectar MetaMask
              </button>
            </div>
          </div>
        </div>

        <h2 class="step-title">ğŸ“ Dados BÃ¡sicos do Token</h2>
        <p class="step-description">Preencha as informaÃ§Ãµes do seu token abaixo.</p>

        <div class="form-row">
          <div class="form-group">
            <label for="tokenName">ğŸ“ Nome do Token</label>
            <input type="text" id="tokenName" placeholder="Ex: BitcoinBR" required>
          </div>
          <div class="form-group">
            <label for="tokenSymbol">ğŸ·ï¸ SÃ­mbolo do Token</label>
            <input type="text" id="tokenSymbol" placeholder="Ex: BTCBR" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="decimals">ğŸ”¢ Decimais</label>
            <input type="number" id="decimals" placeholder="18" value="18" min="0" max="18" required>
          </div>
          <div class="form-group">
            <label for="totalSupply">ğŸ’° Total Supply</label>
            <input type="text" id="totalSupply" placeholder="Ex: 1000000" required>
          </div>
        </div>
        <div class="form-group">
          <label for="ownerAddress">ğŸ‘¤ EndereÃ§o do ProprietÃ¡rio</label>
          <input type="text" id="ownerAddress" placeholder="SerÃ¡ preenchido apÃ³s conectar carteira" required readonly>
        </div>
        <div class="form-group">
          <label for="tokenImage">ğŸ–¼ï¸ URL da Imagem do Token</label>
          <input type="url" id="tokenImage" placeholder="https://exemplo.com/logo.png">
        </div>
        <!-- Campos ocultos para armazenar dados -->
        <input type="hidden" id="networkValue" name="network">
        <input type="hidden" id="networkDisplay" name="networkDisplay">
        
        <div class="navigation">
          <button id="next-step-1">â¡ï¸ PrÃ³ximo: PersonalizaÃ§Ã£o</button>
        </div>
      </div>
      <div class="step-content" id="step-2">
        <h2 class="step-title">ğŸ¯ PersonalizaÃ§Ã£o do EndereÃ§o</h2>
        <p class="step-description">Escolha se deseja personalizar o endereÃ§o do seu token ou usar um endereÃ§o padrÃ£o.</p>
        <div class="info-box">
          <h3>ğŸ’¡ OpÃ§Ãµes DisponÃ­veis</h3>
          <p>
            <label>
              <input type="radio" name="tipo-contrato" id="contrato-simples" checked onchange="toggleAddressCustomization()">
              Contrato Simples (EndereÃ§o padrÃ£o)
            </label>
            <br>
            <label>
              <input type="radio" name="tipo-contrato" id="contrato-personalizado" onchange="toggleAddressCustomization()">
              Contrato com EndereÃ§o Personalizado (CREATE2)
            </label>
          </p>
          <p><strong>EndereÃ§o Personalizado:</strong> Use CREATE2 para gerar um endereÃ§o com os Ãºltimos 4 caracteres de sua escolha. Custa um pouco mais de gas, mas oferece um endereÃ§o memorÃ¡vel.</p>
          <p><strong>EndereÃ§o PadrÃ£o:</strong> Use CREATE normal para um deploy mais rÃ¡pido e barato, mas com endereÃ§o aleatÃ³rio.</p>
        </div>
        <div id="customization-section" style="display: none;">
          <div class="form-group">
            <label for="targetSuffix">ğŸ¯ Ãšltimos 4 caracteres desejados (hex)</label>
            <input type="text" id="targetSuffix" maxlength="4" placeholder="Ex: cafe" pattern="[0-9a-fA-F]{4}">
          </div>
          <div class="form-group">
            <label for="predictedAddress">ğŸ“ EndereÃ§o Previsto</label>
            <input type="text" id="predictedAddress" placeholder="SerÃ¡ calculado automaticamente" readonly>
          </div>
          <div class="form-group">
            <label for="saltFound">ğŸ”¢ SALT Encontrado</label>
            <input type="text" id="saltFound" placeholder="SerÃ¡ gerado automaticamente" readonly>
          </div>
          <button onclick="buscarSalt()" id="search-salt-btn">ğŸ” Buscar SALT</button>
          <button onclick="pararBusca()" id="stop-search-btn" style="display:none;" class="btn-secondary">â¹ï¸ Parar Busca</button>
          <div id="salt-progress" class="progress-bar-container" style="display:none;">
            <div id="salt-progress-bar" class="progress-bar"></div>
          </div>
          <div id="salt-output" class="output" style="display:none;">// O resultado da busca serÃ¡ exibido aqui...</div>
        </div>
        <div class="navigation">
          <button class="btn-secondary">â¬…ï¸ Voltar</button>
          <button id="next-step-2">â¡ï¸ PrÃ³ximo: Resumo</button>
        </div>
      </div>
      <div class="step-content" id="step-3">
        <h2 class="step-title">ğŸ“‹ Resumo</h2>
        <p class="step-description">Revise os dados antes do deploy.</p>
        <div class="info-box">
          <h3>ğŸ“‹ Resumo do Token</h3>
          <div id="token-summary">
          </div>
        </div>
        <div class="navigation">
          <button class="btn-secondary">â¬…ï¸ Voltar</button>
          <button id="next-step-3">â¡ï¸ PrÃ³ximo: Deploy</button>
        </div>
      </div>
            <div class="step-content" id="step-4">
        <h2 class="step-title">ğŸš€ Deploy do Contrato</h2>
        <p class="step-description">Agora vamos deployar seu token na blockchain. Certifique-se de ter BNB suficiente para o gas.</p>
        
        <div class="info-box">
          <h3>ğŸ“‹ Etapas do Deploy</h3>
          <ul>
            <li><strong>1. Gerar Contrato:</strong> Criar arquivo .sol com seus dados</li>
            <li><strong>2. Compilar:</strong> Transformar cÃ³digo em bytecode</li>
            <li><strong>3. Deploy:</strong> Enviar para a blockchain</li>
          </ul>
        </div>

        <div class="button-group">
          <button id="btn-salvar-contrato" class="btn-success">ğŸ“„ Gerar Contrato (.sol)</button>
          <button id="btn-compilar-contrato" class="btn-success" disabled>ğŸ› ï¸ Compilar</button>
          <button id="btn-deploy-contrato" class="btn-success" disabled>ğŸš€ Deploy Token</button>
        </div>
        
        <div id="contract-status"></div>
        <div id="compile-status"></div>
        <div id="deploy-status"></div>
        
        <div class="navigation">
          <button class="btn-secondary">â¬…ï¸ Voltar</button>
          <button id="next-step-4" style="display: none;">â¡ï¸ PrÃ³ximo: VerificaÃ§Ã£o</button>
        </div>
      </div>

      <div class="step-content" id="step-5">
        <h2 class="step-title">ğŸ” VerificaÃ§Ã£o do Contrato</h2>
        <p class="step-description">Verifique seu contrato no explorador da blockchain para maior transparÃªncia e confianÃ§a.</p>
        
        <div class="info-box">
          <h3>âœ… Por que verificar?</h3>
          <ul>
            <li>ğŸ”’ <strong>TransparÃªncia:</strong> CÃ³digo fonte visÃ­vel publicamente</li>
            <li>ğŸ” <strong>Auditoria:</strong> UsuÃ¡rios podem revisar o cÃ³digo</li>
            <li>â­ <strong>ConfianÃ§a:</strong> Selo de verificaÃ§Ã£o no explorador</li>
            <li>ğŸ›¡ï¸ <strong>SeguranÃ§a:</strong> Prova de que o cÃ³digo estÃ¡ correto</li>
          </ul>
        </div>

        <div class="verification-section" id="verification-section" style="display: none;">
          <div class="button-group">
            <button id="btn-verification-info" class="btn-info">ğŸ“‹ Obter Dados de VerificaÃ§Ã£o</button>
            <button id="btn-auto-verify" class="btn-success">ï¿½ Verificar Automaticamente</button>
          </div>
          
          <div id="verification-status"></div>
          
          <div class="verification-guide" style="margin-top: 20px;">
            <h4>ğŸ“– Como verificar manualmente:</h4>
            <ol>
              <li>Clique em "Obter Dados de VerificaÃ§Ã£o"</li>
              <li>Acesse o explorador da sua rede (BSCScan, Etherscan, etc.)</li>
              <li>VÃ¡ para o endereÃ§o do seu contrato</li>
              <li>Clique em "Verify and Publish"</li>
              <li>Cole o cÃ³digo fonte e configuraÃ§Ãµes fornecidas</li>
            </ol>
          </div>
        </div>

        <div class="navigation">
          <button class="btn-secondary">â¬…ï¸ Voltar</button>
          <button id="next-step-5" style="display: none;">â¡ï¸ PrÃ³ximo: MetaMask</button>
        </div>
      </div>

      <div class="step-content" id="step-6">
      <div class="step-content" id="step-5">
        <h2 class="step-title">ğŸ¦Š Adicionar ao MetaMask</h2>
        <p class="step-description">Seu token foi criado com sucesso! Agora adicione-o ao MetaMask para visualizar e gerenciar.</p>
        <div class="info-box">
          <h3>âœ… Token Criado com Sucesso!</h3>
          <p>Seu token foi deployado na blockchain. Clique no botÃ£o abaixo para adicionÃ¡-lo automaticamente ao MetaMask.</p>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>ğŸ“ EndereÃ§o do Token</label>
            <input type="text" id="final-token-address">
          </div>
          <div class="form-group">
            <label>ğŸ·ï¸ SÃ­mbolo</label>
            <input type="text" id="final-token-symbol">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>ğŸ”¢ Decimais</label>
            <input type="number" id="final-token-decimals">
          </div>
          <div class="form-group">
            <label>ğŸ–¼ï¸ Imagem</label>
            <input type="text" id="final-token-image">
          </div>
        </div>
        <button id="btn-add-metamask" class="btn-success">â• Adicionar no MetaMask</button>
        <button id="btn-share-link" class="btn-primary" style="margin-left:8px;display:none;">ğŸ”— Compartilhar Link</button>
        <input id="share-link-field" class="form-control" readonly style="margin-top:8px;display:none;">

        <div id="metamask-status"></div>
        <div class="navigation">
          <button onclick="prevStep()" class="btn-secondary">â¬…ï¸ Voltar</button>
          <button onclick="reiniciarFluxo()" class="btn-success">ğŸ”„ Criar Outro Token</button>
        </div>
      </div>
    </div>
  </div>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script type="module" src="js/add-index.js"></script>
</body>
</html>
